<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Datatables and jQueryUI</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.css">
  <link rel="stylesheet" href="https://rawgit.com/daneden/animate.css/master/animate.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <table id="myTable" class="display">
    <thead>
      <tr>
        <th></th>
        <th>Display Name</th>
        <th>Description</th>
        <th>Aircraft</th>
        <th>Vehicles</th>
        <th>Location</th>
      </tr>
    </thead>
    <tbody>
      <!-- imported  -->
    </tbody>
  </table>

  <div id="dialog" title="Edit Parking Spot">
      <table>
        <tr>
          <td>
            <p>Name</p>
          </td>
          <td>
            <input id="username" type="text">
          </td>
        </tr>
        <tr>
          <td>
            <p>Description</p>
          </td>
          <td>
            <input type="text">
          </td>
        </tr>
        <tr>
          <td>
            <p>Aircraft</p>
          </td>
          <td>
            <input type="checkbox" class="editor-active">
          </td>
        </tr>
        <tr>
          <td>
            <p>Vehicle</p>
          </td>
          <td>
            <input type="checkbox" class="editor-active">
          </td>
        </tr>
        <tr>
          <td>
            <p>Comment:</p>
          </td>
          <td>
            <input type="text">
          </td>
        </tr>
      </table>
      <div class="innerBtn">
        <button id="saveBtn">Save</button>
        <button id="cancelBtn">Cancel</button>
      </div>
    </div>
  
  
    <div id="confirmDialog" title="Please Confirm Changes">
      <p>Your changes will be updated to the spreadsheet.</p>
      <p> Please Note: In progress... </p>
      <div class="innerBtn">
        <button id="confirmBtn">Confirm</button>
        <button id="confirmCancelBtn">Cancel</button>
      </div>
    </div>
  
  
    <!-- Temp button for E -->
    <button id="btn">Temp for "e" button</button>
  
  </div>
  
  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
  <script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
  <script src="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.js"></script>
  <script>
    $(document).ready(function() {
      var data = [
        {
          "display name":"Billy Schreiter",
          "description":"A1",
          "aircraft":"false",
          "vehicles":"true",
          "Location":"Dallas, Texas"
        },
        {
          "display name":"David Schreiter",
          "description":"A1",
          "aircraft":"false",
          "vehicles":"true",
          "Location":"Dallas, Texas"
        },
        {
          "display name":"David Schreiter",
          "description":"A1",
          "aircraft":"false",
          "vehicles":"true",
          "Location":"Dallas, Texas"
        },
        {
          "display name":"David Schreiter",
          "description":"A1",
          "aircraft":"false",
          "vehicles":"true",
          "Location":"Dallas, Texas"
        }
      ];
  
      var $modal = $("#dialog");
    
      var table = $('#myTable').DataTable({
        data: data,
        "columns": 
            [ 
              {"mRender": function ( data, type, row ) {
                return '<button class="editBtn">E</button>';
                }
              },
              { "data": "display name"},
              { "data": "description"},    
              { "data": "aircraft"}, 
              { "data": "vehicles"},   
              { "data": "Location"}      
            ]
      });
    
      //setup
      $modal.dialog({
        autoOpen: false, // Do not open on page load
        modal: true // Freeze the background behind the overlay
      });

      $('.editBtn').on('click' ,function() {
        //grabbing data
        var data = table.row( $(this).parents('tr') ).data();
        console.log(data);
        //open and populate modal
        $modal.dialog('open');
        //save new data to table
      })

      //launch dialog
      // $("#btn").click(function() {
      //   $('#dialog').dialog('open');
      // });
    
    
      //setup 
      $("#confirmDialog").dialog({
          autoOpen: false, // Do not open on page load
          modal: true // Freeze the background behind the overlay
        })
        //launch confirmDialog, confirm or cancel
      $("#saveBtn").click(function() {
        $("#confirmDialog").dialog('open');
      });
    
      //confirm, update page
      $("#confirmBtn").click(function() {
        $("#confirmDialog").dialog('close');
        $("#dialog").dialog("close");;
      });
      //cancel confirmation
      $("#confirmCancelBtn").click(function() {
        $("#confirmDialog").dialog("close");
      });
    
      //Cancel, close Edit Parking Dialog
      $("#cancelBtn").click(function() {
        $("#dialog").dialog("close");;
      });
    
    });
  
  </script>
  </body>
</html>
